buildscript {
  repositories {
    google()
    jcenter()
    mavenCentral()
    maven {
      url 'https://maven.fabric.io/public'
    }
  }
  dependencies {
    classpath ProjectDeps.gradlePlugin
    classpath ProjectDeps.kotlinPlugin
    classpath ProjectDeps.kotlinExtensions
    classpath(ProjectDeps.firebasePlugin) {
      exclude group: 'com.google.guava', module: 'guava-jdk5'
    }
    classpath ProjectDeps.googleServices
    classpath Realm.plugin
    classpath ProjectDeps.dexcount
    classpath ProjectDeps.apkSize
    classpath ProjectDeps.crashlytics
  }
}

plugins {
  id "org.sonarqube" version "2.6.2"
}

allprojects {
  repositories {
    google()
    jcenter()
    mavenCentral()
    maven {
      url 'https://maven.google.com/'
    }
  }
}

task clean(type: Delete) {
  delete rootProject.buildDir
}

sonarqube {
  //noinspection GroovyAssignabilityCheck
  properties {

    //    property "sonar.host.url", "http://localhost:9000"
    property "sonar.projectKey", "BIedra" // some shortcut name
    property "sonar.projectName", "BIedra"
    property "sonar.projectVersion", "2.0"

    property "sonar.sourceEncoding", "UTF-8"
    property "sonar.sources", "src/main/java,src/main/res"
    // first defines where the java files are, the second where the xml files are

    property "sonar.tests", "src/test/java" // where the tests are located
    property "sonar.java.test.binaries", "build/tmp/kotlin-classes"
    property "sonar.java.coveragePlugin", "jacoco"
    property "sonar.jacoco.reportPaths",
        fileTree(dir: "${buildDir}/jacoco/", includes: ["**/*.exec"])
  }
}